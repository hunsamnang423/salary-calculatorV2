<!DOCTYPE html>
<html lang="km" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>á€á˜áŸ’á˜áœá·á’á¸á‚áá“á¶á”áŸ’ášá¶á€áŸ‹ááŸ‚ (USD & KHR) - 2K26</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Khmer Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dangrek&family=Kantumruy+Pro:wght@300;400;600;700&family=Moul&family=Koulen&display=swap" rel="stylesheet">
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Kantumruy Pro"', 'sans-serif'],
                        header: ['"Dangrek"', 'cursive'],
                        wishes: ['"Moul"', 'serif'],
                        title: ['"Koulen"', 'cursive'],
                    },
                    colors: {
                        royalBlue: '#002E5D',
                        deepBlue: '#001F3F',
                        champagneGold: '#D4AF37',
                        darkBg: '#0F172A',
                        darkCard: '#1E293B',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            transition: background-color 0.3s ease;
            font-family: 'Kantumruy Pro', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        .premium-card {
            border-radius: 24px;
            transition: all 0.3s ease;
        }

        .light .premium-card {
            background: white;
            border: 1px solid rgba(212, 175, 55, 0.1);
            box-shadow: 0 10px 25px -5px rgba(0, 46, 93, 0.05);
        }

        .dark .premium-card {
            background: #1E293B;
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }

        .input-box {
            border: 2px solid transparent;
            border-radius: 16px;
            transition: all 0.2s ease;
            font-weight: 700;
        }

        .light .input-box { background: #F1F5F9; color: #002E5D; }
        .dark .input-box { background: #334155; color: #F8FAFC; }

        .input-box:focus {
            border-color: #D4AF37;
            outline: none;
            transform: translateY(-1px);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed rgba(148, 163, 184, 0.2);
        }

        .btn-gradient {
            background: linear-gradient(135deg, #002E5D 0%, #001F3F 100%);
        }

        /* Custom Message Box Animation */
        @keyframes slideDown {
            from { transform: translate(-50%, -20px); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }
        .animate-slide-down { animation: slideDown 0.3s ease-out forwards; }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.4s ease forwards; }
    </style>
</head>
<body class="bg-[#F8FAFC] dark:bg-darkBg text-slate-900 dark:text-slate-100 min-h-screen">

    <div id="main-app" class="pb-40">
        
        <!-- HEADER -->
        <header class="bg-royalBlue dark:bg-deepBlue pt-12 pb-24 px-6 text-center relative overflow-hidden transition-colors duration-500">
            <div class="absolute inset-0 opacity-10">
                <svg width="100%" height="100%"><pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse"><path d="M 30 0 L 0 0 0 30" fill="none" stroke="white" stroke-width="0.5"/></pattern><rect width="100%" height="100%" fill="url(#grid)"/></svg>
            </div>
            
            <div class="absolute top-8 right-6 flex gap-2 z-30">
                <button onclick="copyToClipboard()" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white active:scale-90 transition-all border border-white/5 backdrop-blur-md">
                    <i data-lucide="share-2" class="w-4 h-4"></i>
                </button>
                <button onclick="toggleDarkMode()" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-champagneGold active:scale-90 transition-all border border-white/5 backdrop-blur-md">
                    <i id="theme-icon" data-lucide="moon" class="w-5 h-5"></i>
                </button>
            </div>

            <h1 class="relative z-10 text-3xl font-header text-white leading-tight">á‚áá“á¶á”áŸ’ášá¶á€áŸ‹ááŸ‚</h1>
            <p class="relative z-10 text-champagneGold text-lg font-title tracking-widest uppercase">Smart Calculator 2026</p>
        </header>

        <main class="max-w-md mx-auto px-5 -mt-14 relative z-20 space-y-5">
            
            <!-- INPUT SETTINGS -->
            <section class="premium-card p-6 fade-in">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-10 h-10 bg-blue-50 dark:bg-slate-700 rounded-xl flex items-center justify-center text-royalBlue dark:text-blue-400">
                        <i data-lucide="calculator" class="w-5 h-5"></i>
                    </div>
                    <h2 class="font-bold text-lg">á–áŸááŸŒá˜á¶á“á˜á¼á›áŠáŸ’á‹á¶á“</h2>
                </div>
                
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="relative">
                            <label class="block text-[10px] font-bold text-slate-400 mb-1.5 ml-1 uppercase">á”áŸ’ášá¶á€áŸ‹ááŸ‚á‚áŸ„á› (USD)</label>
                            <div class="relative">
                                <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold">$</span>
                                <input type="number" id="baseSalary" value="208" class="input-box w-full py-3.5 pl-8 pr-4 text-xl" oninput="calculate()">
                            </div>
                        </div>
                        <div class="relative">
                            <label class="block text-[10px] font-bold text-slate-400 mb-1.5 ml-1 uppercase">á¢ááŸ’ášá¶á”áŸ’áá¼ášá”áŸ’ášá¶á€áŸ‹ ($1=?áŸ›)</label>
                            <input type="number" id="exchangeRate" value="4100" class="input-box w-full py-3.5 px-4 text-xl text-red-500 dark:text-red-400" oninput="calculate()">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-1.5">
                            <label class="text-[10px] font-bold text-slate-400 ml-1 uppercase">ááŸ’á„áŸƒá’áŸ’áœá¾á€á¶áš/ááŸ‚</label>
                            <input type="number" id="workDays" value="26" class="input-box w-full p-3 text-center" oninput="calculate()">
                        </div>
                        <div class="space-y-1.5">
                            <label class="text-[10px] font-bold text-slate-400 ml-1 uppercase">á˜áŸ‰áŸ„á„/ááŸ’á„áŸƒ</label>
                            <input type="number" id="workHours" value="8" class="input-box w-full p-3 text-center" oninput="calculate()">
                        </div>
                    </div>

                    <div class="grid grid-cols-3 gap-2 mt-4">
                        <div class="bg-slate-50 dark:bg-slate-800/50 p-3 rounded-2xl text-center border border-slate-100 dark:border-slate-700">
                            <span class="text-[9px] font-bold text-slate-400 block mb-1">áŸ¡á˜áŸ‰áŸ„á„ (100%)</span>
                            <p id="rate100USD" class="text-xs font-bold text-royalBlue dark:text-blue-300">$0.00</p>
                            <p id="rate100KHR" class="text-[9px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                        <div class="bg-blue-50/50 dark:bg-blue-900/20 p-3 rounded-2xl text-center border border-blue-100 dark:border-blue-900/30">
                            <span class="text-[9px] font-bold text-blue-500 block mb-1">OT (150%)</span>
                            <p id="rate150USD" class="text-xs font-bold text-blue-600 dark:text-blue-400">$0.00</p>
                            <p id="rate150KHR" class="text-[9px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                        <div class="bg-amber-50/50 dark:bg-amber-900/20 p-3 rounded-2xl text-center border border-amber-100 dark:border-amber-900/30">
                            <span class="text-[9px] font-bold text-amber-600 block mb-1">OT (200%)</span>
                            <p id="rate200USD" class="text-xs font-bold text-amber-600 dark:text-amber-400">$0.00</p>
                            <p id="rate200KHR" class="text-[9px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- OT SECTION -->
            <section class="premium-card p-6 border-l-4 border-l-blue-500 fade-in" style="animation-delay: 0.1s">
                <div class="flex items-center gap-3 mb-5">
                    <div class="w-10 h-10 bg-blue-50 dark:bg-slate-700 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                        <i data-lucide="timer" class="w-5 h-5"></i>
                    </div>
                    <h2 class="font-bold">á˜áŸ‰áŸ„á„á”á“áŸ’ááŸ‚á˜ (OT)</h2>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1.5">
                        <label class="text-[11px] font-bold text-blue-500 ml-1">á˜áŸ‰áŸ„á„ 1.5x</label>
                        <input type="number" id="ot150" placeholder="0" class="input-box w-full p-4 text-right" oninput="calculate()">
                    </div>
                    <div class="space-y-1.5">
                        <label class="text-[11px] font-bold text-amber-600 ml-1">á˜áŸ‰áŸ„á„ 2.0x</label>
                        <input type="number" id="ot200" placeholder="0" class="input-box w-full p-4 text-right" oninput="calculate()">
                    </div>
                </div>
            </section>

            <!-- ALLOWANCES -->
            <section class="premium-card p-6 fade-in" style="animation-delay: 0.2s">
                <div class="flex items-center gap-3 mb-5">
                    <div class="w-10 h-10 bg-green-50 dark:bg-slate-700 rounded-xl flex items-center justify-center text-green-600">
                        <i data-lucide="gift" class="w-5 h-5"></i>
                    </div>
                    <h2 class="font-bold">á”áŸ’ášá¶á€áŸ‹á”á“áŸ’ááŸ‚á˜á•áŸ’áŸáŸá„áŸ— (USD)</h2>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <label class="text-[10px] font-bold text-slate-400 ml-1 uppercase">ááŸ’á›áŸƒá”á¶á™/áŸá¶áŸ†á„</label>
                        <input type="number" class="extra-income input-box w-full p-4 text-right" placeholder="0" oninput="calculate()">
                    </div>
                    <div class="space-y-1">
                        <label class="text-[10px] font-bold text-slate-400 ml-1 uppercase">á”áŸ’ášá¶á€áŸ‹ášá„áŸ’áœá¶á“áŸ‹/Bonus</label>
                        <input type="number" class="extra-income input-box w-full p-4 text-right" placeholder="0" oninput="calculate()">
                    </div>
                </div>
            </section>

            <!-- DETAILED SUMMARY -->
            <section class="premium-card p-6 border-2 border-champagneGold/30 bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 fade-in" style="animation-delay: 0.3s">
                <div class="flex items-center justify-between mb-5">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-royalBlue dark:bg-deepBlue rounded-xl flex items-center justify-center text-champagneGold">
                            <i data-lucide="clipboard-list" class="w-5 h-5"></i>
                        </div>
                        <h2 class="font-bold text-sm">áŸášá»á”á€á¶ášá‚áá“á¶</h2>
                    </div>
                    <button onclick="resetAll()" class="text-[10px] font-bold text-red-500 uppercase tracking-tighter">á›á»á”á‘á¶áŸ†á„á¢áŸáŸ‹</button>
                </div>

                <div class="space-y-1">
                    <div class="summary-row">
                        <span class="text-slate-500 text-xs">á”áŸ’ášá¶á€áŸ‹ááŸ‚á‚áŸ„á›:</span>
                        <div class="text-right">
                            <span id="sumBaseUSD" class="font-bold text-royalBlue dark:text-blue-300">$0.00</span>
                            <p id="sumBaseKHR" class="text-[10px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                    </div>
                    <div class="summary-row">
                        <span class="text-slate-500 text-xs">á”áŸ’ášá¶á€áŸ‹ OT áŸášá»á”:</span>
                        <div class="text-right">
                            <span id="sumOTUSD" class="font-bold text-blue-600 dark:text-blue-400">$0.00</span>
                            <p id="sumOTKHR" class="text-[10px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                    </div>
                    <div class="summary-row">
                        <span class="text-slate-500 text-xs">á”áŸ’ášá¶á€áŸ‹á”á“áŸ’ááŸ‚á˜á•áŸ’áŸáŸá„áŸ—:</span>
                        <div class="text-right">
                            <span id="sumAllowUSD" class="font-bold text-green-600 dark:text-green-400">$0.00</span>
                            <p id="sumAllowKHR" class="text-[10px] text-red-500 font-bold">0 áŸ›</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t-2 border-slate-100 dark:border-slate-700 flex justify-between items-start">
                        <span class="font-bold text-royalBlue dark:text-champagneGold text-xs uppercase mt-2">á”áŸ’ášá¶á€áŸ‹ááŸ‚áŸá»á‘áŸ’á’:</span>
                        <div class="text-right">
                            <span id="sumTotalUSD" class="font-title text-3xl text-royalBlue dark:text-champagneGold">$0.00</span>
                            <p id="sumTotalKHR" class="text-base text-red-500 font-bold">0 áŸ›</p>
                        </div>
                    </div>
                </div>
            </section>

            <div class="text-center py-4">
                <button onclick="toggleModal()" class="inline-flex items-center gap-2 bg-white dark:bg-slate-800 px-6 py-4 rounded-2xl shadow-sm text-[11px] font-bold text-royalBlue dark:text-blue-300 active:scale-95 border border-slate-100 dark:border-slate-700 transition-all">
                    <i data-lucide="heart" class="w-4 h-4 text-red-500"></i> á§á”ááŸ’áá˜áŸ’á— á“á·á„á‘áŸ†á“á¶á€áŸ‹á‘áŸ†á“á„
                </button>
            </div>
        </main>

        <!-- STICKY FOOTER -->
        <div class="fixed bottom-0 left-0 right-0 p-5 bg-white/80 dark:bg-darkBg/80 backdrop-blur-xl z-40 border-t border-slate-200 dark:border-slate-800 shadow-[0_-10px_30px_rgba(0,0,0,0.05)]">
            <div class="max-w-md mx-auto">
                <div class="btn-gradient rounded-[22px] p-4 flex justify-between items-center text-white border border-white/10 relative overflow-hidden">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-xl bg-white/15 flex items-center justify-center text-champagneGold">
                            <i data-lucide="banknote" class="w-5 h-5"></i>
                        </div>
                        <div class="leading-tight">
                            <p class="text-[10px] font-bold opacity-60 uppercase">Net Income</p>
                            <p class="text-sm font-header">á”áŸ’ášá¶á€áŸ‹ááŸ‚áŸášá»á”</p>
                        </div>
                    </div>
                    <div class="text-right leading-none">
                        <span id="totalUSD" class="text-2xl font-title text-champagneGold">$0.00</span>
                        <div class="h-[1px] w-full bg-white/10 my-1"></div>
                        <span id="totalKHR" class="text-[11px] font-bold text-white/80">0 áŸ›</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- NOTIFICATION -->
    <div id="msg-box" class="fixed top-10 left-1/2 -translate-x-1/2 z-[200] opacity-0 pointer-events-none transition-all duration-300">
        <div class="bg-royalBlue text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3">
            <i data-lucide="check-circle-2" class="w-5 h-5 text-champagneGold"></i>
            <span id="msg-text" class="text-sm font-bold">ášá½á…ášá¶á›áŸ‹!</span>
        </div>
    </div>

    <!-- MODAL -->
    <div id="contact-modal" class="fixed inset-0 z-[110] flex items-center justify-center hidden opacity-0 transition-all duration-300 px-6">
        <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-md" onclick="toggleModal()"></div>
        <div class="bg-white dark:bg-slate-800 w-full max-w-sm rounded-[32px] overflow-hidden relative z-10 shadow-2xl flex flex-col max-h-[90vh]">
            
            <div class="bg-royalBlue dark:bg-deepBlue p-8 text-center relative">
                <button onclick="toggleModal()" class="absolute top-4 right-4 text-white/40 hover:text-white"><i data-lucide="x" class="w-6 h-6"></i></button>
                <div class="w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/10">
                    <i data-lucide="coffee" class="w-8 h-8 text-champagneGold"></i>
                </div>
                <h3 class="font-header text-champagneGold text-2xl">á‚á¶áŸ†á‘áŸ’ášá¢áŸ’á“á€á¢á—á·áœáŒáŸ’áá“áŸ</h3>
                <p class="text-white/60 text-[10px] font-sans tracking-[0.2em] mt-1">SUPPORT & DONATION</p>
            </div>

            <div class="p-6 space-y-3 overflow-y-auto">
                <!-- Payment Methods -->
                <div class="space-y-2">
                    <p class="text-[10px] font-bold text-slate-400 uppercase ml-1">á‡á˜áŸ’ášá¾áŸá‘á¼á‘á¶ááŸ‹</p>
                    <a href="https://pay.ababank.com/oRF8/bjr6yndk" target="_blank" class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800 group active:scale-95 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-royalBlue rounded-xl flex items-center justify-center text-white font-bold text-xs italic">ABA</div>
                            <div>
                                <p class="text-xs font-bold dark:text-white">ABA Bank</p>
                                <p class="text-[9px] text-slate-500">á‚áá“á¸: USD & KHR</p>
                            </div>
                        </div>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-royalBlue dark:text-champagneGold"></i>
                    </a>
                    
                    <a href="https://wingmoney.app.link/FenLETPGC0b" target="_blank" class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-100 dark:border-green-800 group active:scale-95 transition">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center text-white font-bold text-xs italic">WING</div>
                            <div>
                                <p class="text-xs font-bold dark:text-white">Wing Bank</p>
                                <p class="text-[9px] text-slate-500">ID: 103158094</p>
                            </div>
                        </div>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-green-600 dark:text-champagneGold"></i>
                    </a>
                </div>

                <!-- Social Links -->
                <div class="pt-4 border-t border-slate-100 dark:border-slate-700">
                    <p class="text-[10px] font-bold text-slate-400 uppercase ml-1 mb-3">á”ááŸ’áŠá¶á‰áŸá„áŸ’á‚á˜</p>
                    <div class="grid grid-cols-4 gap-3">
                        <a href="https://t.me/hunsamnang" target="_blank" class="flex flex-col items-center gap-1 group">
                            <div class="w-11 h-11 rounded-2xl bg-sky-50 dark:bg-sky-900/20 flex items-center justify-center group-active:scale-90 transition shadow-sm border border-sky-100 dark:border-sky-800"><i data-lucide="send" class="w-5 h-5 text-sky-500"></i></div>
                            <span class="text-[8px] font-bold uppercase">Telegram</span>
                        </a>
                        <a href="https://www.facebook.com/samnanghunreal/" target="_blank" class="flex flex-col items-center gap-1 group">
                            <div class="w-11 h-11 rounded-2xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center group-active:scale-90 transition shadow-sm border border-blue-100 dark:border-blue-800"><i data-lucide="facebook" class="w-5 h-5 text-blue-600"></i></div>
                            <span class="text-[8px] font-bold uppercase">Facebook</span>
                        </a>
                        <a href="https://wa.me/qr/H35HQISESRRLB1" target="_blank" class="flex flex-col items-center gap-1 group">
                            <div class="w-11 h-11 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 flex items-center justify-center group-active:scale-90 transition shadow-sm border border-emerald-100 dark:border-emerald-800"><i data-lucide="phone" class="w-5 h-5 text-emerald-500"></i></div>
                            <span class="text-[8px] font-bold uppercase">WhatsApp</span>
                        </a>
                        <a href="https://u.wechat.com/kBVl6zaWxOSCqiHsDatJx7A?s=2" target="_blank" class="flex flex-col items-center gap-1 group">
                            <div class="w-11 h-11 rounded-2xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center group-active:scale-90 transition shadow-sm border border-green-100 dark:border-green-800"><i data-lucide="message-circle" class="w-5 h-5 text-green-600"></i></div>
                            <span class="text-[8px] font-bold uppercase">WeChat</span>
                        </a>
                    </div>
                </div>

                <div class="pt-6 pb-2 text-center">
                    <p class="text-[9px] text-slate-400">á¢ášá‚á»ááŸá˜áŸ’ášá¶á”áŸ‹á€á¶ášá‚á¶áŸ†á‘áŸ’ášáŸáŸ’á“á¶áŠáŸƒááŸ’á˜áŸ‚áš!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        let salaryData = { totalUSD: 0, totalKHR: 0, rate: 4100 };

        window.onload = function() {
            calculate();
            confetti({
                particleCount: 100, spread: 70, origin: { y: 0.7 },
                colors: ['#002E5D', '#D4AF37', '#ffffff']
            });
        };

        function toggleDarkMode() {
            const html = document.documentElement;
            const icon = document.getElementById('theme-icon');
            if (html.classList.contains('dark')) {
                html.classList.replace('dark', 'light');
                icon.setAttribute('data-lucide', 'moon');
            } else {
                html.classList.replace('light', 'dark');
                icon.setAttribute('data-lucide', 'sun');
            }
            lucide.createIcons();
        }

        function showMessage(text) {
            const box = document.getElementById('msg-box');
            document.getElementById('msg-text').innerText = text;
            box.classList.remove('opacity-0', 'pointer-events-none');
            box.classList.add('opacity-100', 'animate-slide-down');
            setTimeout(() => {
                box.classList.remove('opacity-100', 'animate-slide-down');
                box.classList.add('opacity-0', 'pointer-events-none');
            }, 2500);
        }

        function toggleModal() {
            const modal = document.getElementById('contact-modal');
            if(modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('opacity-100'), 10);
            } else {
                modal.classList.remove('opacity-100');
                setTimeout(() => modal.classList.add('hidden'), 300);
            }
        }

        function formatKHR(val) {
            return Math.round(val).toLocaleString() + ' áŸ›';
        }

        function calculate() {
            const baseUSD = parseFloat(document.getElementById('baseSalary').value) || 0;
            const rate = parseFloat(document.getElementById('exchangeRate').value) || 4100;
            const days = parseFloat(document.getElementById('workDays').value) || 26;
            const hours = parseFloat(document.getElementById('workHours').value) || 8;
            const ot150h = parseFloat(document.getElementById('ot150').value) || 0;
            const ot200h = parseFloat(document.getElementById('ot200').value) || 0;

            const hourlyUSD = (baseUSD / days) / hours;
            const r150USD = hourlyUSD * 1.5;
            const r200USD = hourlyUSD * 2.0;

            document.getElementById('rate100USD').innerText = '$' + hourlyUSD.toFixed(2);
            document.getElementById('rate100KHR').innerText = formatKHR(hourlyUSD * rate);
            document.getElementById('rate150USD').innerText = '$' + r150USD.toFixed(2);
            document.getElementById('rate150KHR').innerText = formatKHR(r150USD * rate);
            document.getElementById('rate200USD').innerText = '$' + r200USD.toFixed(2);
            document.getElementById('rate200KHR').innerText = formatKHR(r200USD * rate);

            let extraUSD = 0;
            document.querySelectorAll('.extra-income').forEach(input => {
                extraUSD += parseFloat(input.value) || 0;
            });

            const otUSD = (ot150h * r150USD) + (ot200h * r200USD);
            const totalUSD = baseUSD + otUSD + extraUSD;
            const totalKHR = totalUSD * rate;

            salaryData = { baseUSD, otUSD, extraUSD, totalUSD, totalKHR, rate };

            const usdFormat = { minimumFractionDigits: 2, maximumFractionDigits: 2 };
            document.getElementById('sumBaseUSD').innerText = '$' + baseUSD.toLocaleString(undefined, usdFormat);
            document.getElementById('sumBaseKHR').innerText = formatKHR(baseUSD * rate);
            document.getElementById('sumOTUSD').innerText = '$' + otUSD.toLocaleString(undefined, usdFormat);
            document.getElementById('sumOTKHR').innerText = formatKHR(otUSD * rate);
            document.getElementById('sumAllowUSD').innerText = '$' + extraUSD.toLocaleString(undefined, usdFormat);
            document.getElementById('sumAllowKHR').innerText = formatKHR(extraUSD * rate);
            
            document.getElementById('sumTotalUSD').innerText = '$' + totalUSD.toLocaleString(undefined, usdFormat);
            document.getElementById('sumTotalKHR').innerText = formatKHR(totalKHR);
            document.getElementById('totalUSD').innerText = '$' + totalUSD.toLocaleString(undefined, usdFormat);
            document.getElementById('totalKHR').innerText = formatKHR(totalKHR);
        }

        function resetAll() {
            document.querySelectorAll('input').forEach(i => {
                if(i.id === 'workDays') i.value = 26;
                else if(i.id === 'workHours') i.value = 8;
                else if(i.id === 'exchangeRate') i.value = 4100;
                else if(i.id === 'baseSalary') i.value = 208;
                else i.value = '';
            });
            calculate();
            showMessage("á‘á·á“áŸ’á“á“áŸá™ááŸ’ášá¼áœá”á¶á“áŸá˜áŸ’á¢á¶á");
        }

        function copyToClipboard() {
            const report = `
ğŸ“Š ášá”á¶á™á€á¶ášááŸá”áŸ’ášá¶á€áŸ‹ááŸ‚ (Salary Report)
------------------------------
ğŸ’µ á”áŸ’ášá¶á€áŸ‹ááŸ‚á‚áŸ„á›: $${salaryData.baseUSD.toFixed(2)} (${formatKHR(salaryData.baseUSD * salaryData.rate)})
ğŸ•’ á”áŸ’ášá¶á€áŸ‹ OT: $${salaryData.otUSD.toFixed(2)} (${formatKHR(salaryData.otUSD * salaryData.rate)})
ğŸ á”áŸ’ášá¶á€áŸ‹á”á“áŸ’ááŸ‚á˜: $${salaryData.extraUSD.toFixed(2)} (${formatKHR(salaryData.extraUSD * salaryData.rate)})
------------------------------
ğŸ’° áŸášá»á”áŸá»á‘áŸ’á’: $${salaryData.totalUSD.toFixed(2)}
ğŸ‡°ğŸ‡­ á‡á¶á”áŸ’ášá¶á€áŸ‹ášáŸ€á›: ${formatKHR(salaryData.totalKHR)}
(Exchange: 1$ = ${salaryData.rate}áŸ›)
            `;
            
            const textArea = document.createElement("textarea");
            textArea.value = report.trim();
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showMessage("á…á˜áŸ’á›á„ášá”á¶á™á€á¶ášááŸášá½á…ášá¶á›áŸ‹!");
            } catch (err) {
                showMessage("á€á¶ášá…á˜áŸ’á›á„á”ášá¶á‡áŸá™");
            }
            document.body.removeChild(textArea);
        }
    </script>
</body>
</html>

